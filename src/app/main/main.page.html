<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="showMenu()">
            <ion-icon icon="menu"></ion-icon>
          </ion-button>
        </ion-buttons>
        <ion-title>
            {{category}}
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <div>
        <form>
            <ion-searchbar placeholder="Arayın..." showCancelButton="focus" cancelButtonText="İptal"
                           (ionChange)="search($event)" (ionCancel)="cancel()"></ion-searchbar>
        </form>
    </div>
    <ion-item>
        <h4>Kategoriler</h4>
    </ion-item>
    <ion-grid>
        <ion-row>
            <ion-col>
                <ion-label (click)="getByCategory('Mekanlar')">
                    <img src="assets/img/place.png" alt="Mekanlar"/>
                    <ion-label>Mekanlar</ion-label>
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-label (click)="getByCategory('Aktiviteler')">
                    <img src="assets/img/activity.png" alt="Aktiviteler"/>
                    <ion-label>Aktiviteler</ion-label>
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-label (click)="getByCategory('Sağlık')">
                    <img src="assets/img/health.png" alt="Sağlık"/>
                    <ion-label>Sağlık</ion-label>
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-label (click)="getByCategory('Alışveriş')">
                    <img src="assets/img/shopping.png" alt="Alışveriş"/>
                    <ion-label>Alışveriş</ion-label>
                </ion-label>
            </ion-col>
        </ion-row>
    </ion-grid>
    <ion-item>
        <h4>
            {{category}}
        </h4>
    </ion-item>

    <ion-card *ngFor="let place of places">
        <img src="{{place.images[0]}}" alt="{{place.name}}" (click)="gotoDetail(place.documentID)"/>
        <ion-card-header>
            <ion-card-title>{{place.name}}</ion-card-title>
            <ion-card-subtitle>{{place.category}}</ion-card-subtitle>
        </ion-card-header>

        <ion-item *ngFor="let prop of place.properties">
            <ion-icon name="checkmark" slot="start"></ion-icon>
            <ion-label>{{getPropertyName(prop)}}</ion-label>
        </ion-item>

        <ion-item>
            <ion-button fill="outline" slot="end" (click)="favorite(place.documentID)">
                <ion-icon icon="heart"></ion-icon>
            </ion-button>
            <ion-button fill="outline" slot="end" (click)="gotoDetail(place.documentID)">
                <ion-icon icon="arrow-round-forward"></ion-icon>
            </ion-button>
        </ion-item>
    </ion-card>

</ion-content>
